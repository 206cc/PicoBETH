# 操作與設定指南

## 操作介面

以下展示 V2.80 版本的操作介面。

### 主畫面

- 按下離開鍵啟用計時，再次按下停止，第三次按下重置計時。

![img_main](img_main.jpg)

1. 設定磅數  
2. 設定公斤  
3. 狀態顯示  
4. PS=預拉，KT=打結功能  
5. 穿線計時器  
6. 珠夾頭速度 1=最慢，9=最快  
7. 恆拉狀態 C=啟用，M=停用  
8. 目前張力值（公克）  

### 張力設定畫面

- 按下五向鍵進入張力設定，第一次顯示最大張力，第二次開始調整張力與預拉。

![img_lbset](img_lbset.jpg)

1. 磅數設定（含預拉）  
2. 公斤設定（含預拉）  

### 張緊中畫面

- 張力達標時，進入恆拉模式。張力不足自動增加，張力過高自動減少，直至停止模式。按五向鍵的上下鍵可增減 0.5LB 張力。

![img_tensioning](img_tensioning.jpg)

1. 設定張力  
2. 目前張力  
3. 張力達標後開始計時  
4. 珠夾頭速度 1=最慢，9=最快  
5. 恆拉狀態 C=啟用，M=停用 
6. 與設定張力的差異  

### 設定畫面

![img_setting](img_setting.jpg)

1. SP：珠夾頭速度  
2. CP：恆拉開關  
3. BZ：蜂鳴器開關  
4. UN：使用磅或公斤  
5. HX：張力傳感器校正  
6. I：系統資訊  
7. T：總張緊計數/LOG 記錄  

### 系統資訊

![img_sysinfo](img_sysinfo.jpg)

1. 軟體版本與日期  
2. 張力放大器參數  
3. 珠夾頭速度與步數  
4. 步進馬達轉速  
5. 張力參數  
6. 開機次數  
7. 總張緊計數  

### 工程選單

自 v2.90 版本起，初次硬體參數設定已大幅簡化，無需透過電腦，即可透過「工程選單」進行設定。

> [!CAUTION]
> **首次開機請務必正確設定硬體參數，錯誤的設定可能導致球拍損壞。**

#### 進入工程選單方式

有以下兩種方式可進入工程選單：

1. **開機時**：當畫面顯示版本資訊與進度條時，按下 **方向鍵左鍵**。
2. **設定頁面中**：於 INFO 選單中，連續按下 **方向鍵下鍵** 5 次。

#### 9-1 荷重元（Load Cell）選擇

請選擇實際所使用的荷重元規格：

- **20kg**
- **50kg**

#### 9-2 最大張力設定

自 v2.90 起取消網球模式，改為依據荷重元與平台類型設定最大張力限制：

| 荷重元規格 | 平台類型   | 建議最大張力        |
|------------|------------|---------------------|
| 20kg       | SGX 1610   | 40lb                |
| 50kg       | SGX 1610   | 70lb                |
| 50kg       | GX80 1605  | 90lb+（極限 130lb） |

> [!WARNING]
> 請確保裝置結構具備足夠強度以承受設定的最大張力。

> [!WARNING]
> 張力超過荷重元額定值可能導致感測器損壞，並嚴重縮短使用壽命。

#### 9-3 珠夾張緊啟動模式

請選擇適用的珠夾啟動模式：

- **一般模式（Standard）**
- **改良模式（Enhanced）**  
  參考：[改良珠夾模式](https://github.com/206cc/PicoBETH/tree/imp/beadclip-btn%40jpliew)

## Wi-Fi OTA 線上韌體更新使用說明

自 **v2.90** 版本起，PicoBETH 支援透過 **Wi-Fi** 功能進行 OTA 線上韌體更新。請依照以下說明操作：

### 使用條件

1. 僅支援具備 Wi-Fi 功能的 **Raspberry Pi Pico W**
2. 確保檔案 `pico_ota.py` 已上傳至 Pico
3. 建議使用手機開啟 **2.4GHz 熱點**，SSID 與密碼皆設為 `picobeth`；或者於根目錄建立 `wifi.txt` 檔案來自訂 Wi-Fi 帳號與密碼
   
   ```
   ssid=picobeth
   password=picobeth
   ```

### 操作流程

1. **開機後，進度條顯示時**，按下方向鍵 **「下」** 進入 OTA 模式  
2. Pico 嘗試連線 Wi-Fi  
3. 成功後會取得韌體清單  
4. 使用方向鍵選擇版本並執行更新  
5. 韌體更新完成後將自動重新啟動  

> [!WARNING]
> 若在步驟3 **無法取得韌體清單**，表示 **Pico 的 Wi-Fi 模組可能崩潰**，請 **關閉電源並重新啟動** 後再試一次。

## 預拉系統 (Pre-Stretch)

自 **v2.92** 起，新增 **預拉放鬆程度 (PS 放鬆)** 自訂功能，讓預拉動作更靈活。

### 功能說明

- 可自訂放鬆幅度範圍：`0 ~ 9 LB` (以往固定為 `0 LB`)
- 行為類似部分市售高階穿線機
- 設定位置：**工程選單 → 9-7 預拉放鬆設定**

### 比較說明

#### ▸ 傳統預拉 (預設放鬆 0 LB)
> 假設目標張力為 20 LB，預拉設定為 10%

1. 拉至 22 LB (預拉)
2. 放鬆至 20 LB (目標張力)

#### ▸ PS 放鬆 5 LB 設定
> 假設目標張力為 20 LB，預拉設定為 10%，放鬆設定為 5 LB

1. 拉至 22 LB (預拉)
2. 放鬆至 15 LB (20 - 5)
3. 再回拉至 20 LB (目標張力)

